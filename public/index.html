<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vervegrand Sync Paneli</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="login-container" id="login-container">
        <form class="login-form" id="login-form">
            <h2>Yönetim Paneli Giriş</h2>
            <div class="form-group">
                <label for="username">Kullanıcı Adı</label>
                <input type="text" id="username" required>
            </div>
            <div class="form-group">
                <label for="password">Şifre</label>
                <input type="password" id="password" required>
            </div>
            <button type="submit" class="login-btn">Giriş Yap</button>
            <p id="login-error" class="error-message">Kullanıcı adı veya şifre hatalı.</p>
        </form>
    </div>

    <div class="container" id="app-container">
        <header>
            <h1>Vervegrand Sync</h1>
            <button id="logout-btn" class="logout-btn">Çıkış Yap</button>
        </header>
        <nav>
            <a href="#dashboard" class="nav-link active" data-page="dashboard">Gösterge Paneli</a>
            <a href="#config" class="nav-link" data-page="config">Yapılandırma</a>
            <a href="#sync" class="nav-link" data-page="sync">Senkronizasyon</a>
            <a href="#sheets" class="nav-link" data-page="sheets">Google Sheets</a>
            <a href="#search" class="nav-link" data-page="search">Ürün Ara</a>
        </nav>
        <main>
            <!-- Dashboard Page -->
            <div id="page-dashboard" class="page active">
                <h2>Genel Durum</h2>
                <div class="dashboard-grid">
                    <div class="card" id="shopify-card">
                        <h3>Shopify Mağazası</h3>
                        <p>Durum: <span id="shopify-status" class="status-badge">Bilinmiyor</span></p>
                        <p>Mağaza Adı: <span id="shopify-name">N/A</span></p>
                        <p>Email: <span id="shopify-email">N/A</span></p>
                        <p>Ürün Sayısı: <span id="shopify-products">N/A</span></p>
                    </div>
                    <div class="card" id="xml-card">
                        <h3>XML Kaynağı</h3>
                        <p>Durum: <span id="xml-status" class="status-badge">Bilinmiyor</span></p>
                        <p>Kaynak URL: <span id="xml-source-url">N/A</span></p>
                        <p>Ürün Sayısı: <span id="xml-products">N/A</span></p>
                        <p>Varyant Sayısı: <span id="xml-variants">N/A</span></p>
                        <p>Parse Metodu: <span id="xml-parse-method">N/A</span></p>
                        <p>Ürün Özellikleri: <span id="xml-features">N/A</span></p>
                        <p>Son Kontrol: <span id="xml-last-checked">N/A</span></p>
                    </div>
                    <div class="card" id="google-card">
                        <h3>Google Entegrasyonu</h3>
                        <p>Kimlik Durumu: <span id="google-status" class="status-badge">Bilinmiyor</span></p>
                    </div>
                    <div class="card" id="sync-summary-card">
                        <h3>Son Senkronizasyon</h3>
                        <div id="last-sync-summary">
                            <p>Henüz bir senkronizasyon yapılmadı.</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Config Page -->
            <div id="page-config" class="page">
                <h2>API Yapılandırması</h2>
                <div class="config-section">
                    <h3>Shopify Ayarları</h3>
                    <input type="text" id="shopify-url" placeholder="ornek.myshopify.com">
                    <input type="password" id="shopify-admin-token" placeholder="Admin Access Token (shpat_...)">
                    <button id="test-shopify">Shopify Bağlantısını Test Et</button>
                </div>
                
                <div class="config-section">
                    <h3>XML Feed Ayarları</h3>
                    <input type="text" id="xml-url" placeholder="https://.../feed.xml">
                    <button id="test-xml">XML Bağlantısını Test Et</button>
                </div>

                <div class="config-section">
                    <h3>Google Sheets Ayarları</h3>
                    <input type="text" id="google-client-id" placeholder="Google Client ID">
                    <input type="text" id="google-client-secret" placeholder="Google Client Secret">
                    <input type="text" id="google-redirect-uri" placeholder="Redirect URI (opsiyonel)">
                    <input type="text" id="google-refresh-token" placeholder="Refresh Token (otomatik alınacak)">
                    <input type="text" id="google-sheet-id" placeholder="Google Sheet ID">
                </div>
                
                <button id="save-config">Ayarları Kaydet</button>
                <div id="config-message"></div>
            </div>
            
            <!-- Sync Page -->
            <div id="page-sync" class="page">
                <h2>Senkronizasyon</h2>
                <div class="sync-controls">
                    <fieldset class="sync-options">
                        <legend>Senkronizasyon Seçenekleri</legend>
                        <label><input type="checkbox" id="sync-full" checked> Tam Senkronizasyon</label>
                        <label><input type="checkbox" id="sync-price"> Sadece Fiyat</label>
                        <label><input type="checkbox" id="sync-inventory"> Sadece Stok</label>
                        <label><input type="checkbox" id="sync-details"> Sadece Detaylar (Başlık, Açıklama vb.)</label>
                        <label><input type="checkbox" id="sync-images"> Sadece Resimler</label>
                    </fieldset>
                    <button id="start-sync-btn" class="button-primary">Senkronizasyonu Başlat</button>
                </div>
                <div id="sync-log" class="log-container"></div>
            </div>
            
            <!-- Google Sheets Page -->
            <div id="page-sheets" class="page">
                <h2>Google Sheets Entegrasyonu</h2>
                <div class="google-controls">
                    <button id="google-auth-btn">Google ile Bağlan</button>
                    <button id="create-sheet-btn">Shopify Ürünlerini Sheet'e Aktar</button>
                </div>
                <p id="sheet-status"></p>
            </div>

            <!-- Search Page -->
            <div id="page-search" class="page">
                <h2>Shopify Ürün Arama</h2>
                <div class="search-bar">
                    <input type="text" id="product-search-input" placeholder="Ürün adı veya SKU ile ara...">
                </div>
                <div id="search-results-container" class="results-container"></div>
            </div>
        </main>
    </div>
    
    <!-- Scripts -->
    <script src="js/config.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/shopify.js"></script>
    <script src="js/xml.js"></script>
    <script src="js/sync.js"></script>
    <script src="js/google.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
